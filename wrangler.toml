name = "resender"
main = "src/index.js"
compatibility_date = "2024-11-11"

# KV namespace for storing pending opt-in confirmations
[[kv_namespaces]]
binding = "PENDING_SUBSCRIPTIONS"
id = "72d0a007db1c40a69f0f994966d2524f"
preview_id = "6aa1b40ebf814975b1ebca034e9b7532"

# Environment variables (secrets should be set via wrangler secret put)
[vars]
# Double opt-in email configuration
FROM_EMAIL = "signups@system.viruus.zip"
FROM_NAME = "Signups"
CONFIRMATION_BASE_URL = "https://system.viruus.zip"

# Audience ID mappings (optional)
AUDIENCE_BLOG = "13f5f3ff-eaa5-4020-9470-48114a8bb150"

# Contact form configuration
CONTACT_FROM_EMAIL = "contact@system.viruus.zip"
CONTACT_FROM_NAME = "Contact Form"

# Set secrets via wrangler secret put:
# - RESEND_API_KEY
# - CONTACT_TO_EMAIL

[observability]
enabled = true

[observability.logs]
invocation_logs = true
head_sampling_rate = 1
